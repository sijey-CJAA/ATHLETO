{% extends "base.html" %}
{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-12 col-sm-10 col-md-8 col-lg-7">
      <div class="card shadow-lg border-0 rounded-4 bg-dark text-light">
        <div class="card-body">
          <div class="text-center mb-4">
            <h2 style="color:#ff4f72;">ATHLETO RECEIPT</h2>
            <div class="text-muted" style="color:#e3e3e3 !important;">Order ID: <b>{{ order.id }}</b></div>
            <div class="text-muted" style="color:#e3e3e3 !important;">Date: {{ order.timestamp }}</div>
          </div>
          <div class="mb-3" style="color:#f3f3f3;">
            <strong>Name:</strong> {{ order.name }}<br>
            <strong>Email:</strong> {{ order.user_email }}<br>
            <strong>Contact:</strong> {{ order.contact }}<br>
            <strong>Address:</strong> {{ order.address }}<br>
          </div>
          <!-- Responsive Table -->
          <div class="table-responsive">
            <table class="table table-sm table-bordered align-middle mb-0 table-dark text-light">
              <thead class="table-light">
                <tr>
                  <th style="color:#232427;">Product</th>
                  <th style="color:#232427;">Size</th>
                  <th style="color:#232427;">Quantity</th>
                  <th style="color:#232427;">Unit Price</th>
                  <th style="color:#232427;">Subtotal</th>
                </tr>
              </thead>
              <tbody>
                {% for item in items %}
                {% set subtotal = item.price * item.quantity %}
                <tr>
                  <td>{{ item.name }}</td>
                  <td>{{ item.size }}</td>
                  <td>{{ item.quantity }}</td>
                  <td>₱{{ '%.2f'|format(item.price) }}</td>
                  <td>₱{{ '%.2f'|format(subtotal) }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
          <!-- End Responsive Table -->
          <div class="mt-4 text-center text-muted" style="color:#f3f3f3 !important;">
            Thank you for shopping with ATHLETO!
          </div>
          <div class="mt-3 text-center">
            <a href="{{ url_for('dashboard') }}" class="btn btn-outline-primary">Back to Dashboard</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
/* Mobile-friendly tweaks and lighter text */
@media (max-width: 575.98px) {
  .card {
    border-radius: 0.9rem !important;
  }
  .table-responsive {
    font-size: 0.97em;
  }
  .table thead {
    display: none;
  }
  .table, .table tbody, .table tr, .table td {
    display: block;
    width: 100% !important;
  }
  .table tr {
    margin-bottom: 1.2em;
    border-bottom: 2px solid #ddd;
  }
  .table td {
    padding: 0.7em 1em 0.7em 7em !important;
    position: relative;
    border: none;
    border-bottom: 1px solid #eee;
    min-height: 36px;
    background: transparent;
    color: #f6f6f6;
    word-break: break-word;
  }
  .table td:before {
    position: absolute;
    top: 50%;
    left: 1em;
    transform: translateY(-50%);
    width: 6em;
    color: #ff4f72;
    font-weight: 600;
    content: attr(data-label);
    font-size: 1em;
    text-align: left;
    line-height: 1.2;
  }
  .table td:last-child {
    border-bottom: 0;
  }
}
/* Add data-labels for mobile accessibility */
@media (max-width: 575.98px) {
  td:nth-of-type(1):before { content: "Product"; }
  td:nth-of-type(2):before { content: "Size"; }
  td:nth-of-type(3):before { content: "Quantity"; }
  td:nth-of-type(4):before { content: "Unit Price"; }
  td:nth-of-type(5):before { content: "Subtotal"; }
}
/* General lighter text for dark backgrounds */
.bg-dark, .table-dark, .text-light, .card.text-light {
  color: #f6f6f6 !important;
}
.table-dark th, .table-dark td {
  color: #f6f6f6 !important;
}
</style>
{% endblock %}